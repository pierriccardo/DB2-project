<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="ISO-8859-1">
	<title>Home Page</title>
	<link rel="stylesheet" type="text/css" media="all"
		href="../asset/css/bootstrap.min.css"
		th:href="@{/asset/css/bootstrap.min.css}" />
	<script src="../asset/js/bootstrap.bundle.min.js"
		th:src="@{/asset/js/bootstrap.bundle.min.js}"></script>
	<link rel="stylesheet" type="text/css" media="all"
		href="../asset/css/fontawesome.min.css"
		th:href="@{/asset/css/fontawesome.min.css}" />
	<link rel="stylesheet" type="text/css" media="all"
		href="../asset/css/template.css" th:href="@{/asset/css/template.css}" />
		
	<style>
	</style>
</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-set">
		<div class="container-fluid">
			<h5 class="navbar-brand" th:text="${username}"></h5>
			<button class="navbar-toggler" type="button"
				data-bs-toggle="collapse" data-bs-target="#navbarText"
				aria-controls="navbarText" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarText">
				<ul class="navbar-nav me-auto mb-2 mb-lg-0">
					<li class="nav-item"><a class="nav-link active"
						aria-current="page" href="#" th:href="@{/GoToHome}">Daily
							Questionnaire</a></li>
					<li class="nav-item"><a class="nav-link" href="#"
						th:href="@{/Leaderboard}">Leaderboard</a></li>
				</ul>
				<span class="navbar-text"> <a class="nav-link" href="#"
					th:href="@{/Logout}">Logout</a>
				</span>
			</div>
		</div>
	</nav>
	<div class="base-box container-xxl">
		<div class="row">
			<div class="col">
				<h1>Product of the day</h1>
			</div>
		</div>
		<hr class="hr-title">

		<div class="alert alert-danger alert-dismissible fade show"
			role="alert" th:if="${errorMsg}">
			<h6 th:text="${errorMsg}"></h6>
			<button type="button" class="btn-close" data-bs-dismiss="alert"
				aria-label="Close"></button>
		</div>

		<div class="row">
			<div class="d-grid gap-2 col-3 mx-auto">
				<div class="card" style="width: 100%;">
					<img
						alt="Image of the product"
						th:src="*{'data:image/png;base64,'+ product.getImageFileData()}">
					<div class="card-body">
						<h5 class="card-title">Product of the day</h5>
						<p><strong>Product name: </strong> <span th:text="${product.getName()}"></span></p>
						<a class="btn btn-success" href="#" th:classappend="${compiled} ? 'disabled' : ''"
							th:href="@{/Questionnaire} + '?idProd=' + ${product.getId()}" style="float: right">
							Compile <i class="fas fa-pencil-alt"></i>
						</a>
					</div>
				</div>
			</div>
		</div>
		
		<div class="row" style="margin-top: 30px;">
			<div class="d-grid gap-2 col-1 mx-auto">
				<h3>Review</h3>
			</div>
		</div>
		
		<div class="row">
			<div class="col">
				<table class="table">
					<thead class="thead-dark">
						<tr>
							<th scope="col">User</th>
							<th scope="col">Review</th>
						</tr>
					</thead>
					<tbody>
						<tr class="list-inline" th:each="review: ${reviews}">
							<th th:text="${review.getUser().getUsername}"></th>
							<th th:text="${review.getText()}"></th>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</body>
</html>